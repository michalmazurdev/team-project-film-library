var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in o){var r=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequired7c6=r);var n=r("7hPMC"),a=r("hGVxz");const d=document.querySelector(".modal__backdrop"),i=document.querySelector(".modal__close"),c=()=>{d.classList.toggle("modal__hidden")},l=()=>{i.removeEventListener("click",s),document.removeEventListener("keydown",p),d.removeEventListener("click",u)},s=()=>{c(),l()},p=e=>{27===e.keyCode&&(c(),l())},u=e=>{e.target===d&&(c(),l())},m=async e=>{try{let t=await (0,a.default).get(`https://api.themoviedb.org/3/movie/${e}?api_key=5e58d3162f5aafaf855cf7d900bbc361&language=en-US`);return t.data}catch(e){Notiflix.Notify.failure(`some error ðŸ˜‡.`,{timeout:1e3})}};window.addEventListener("click",async e=>{if("movie-card__poster"!==e.target.className)return;d.classList.toggle("modal__hidden");let t=e.target.dataset.movieid,o=await m(t),r=o.poster_path?`https://image.tmdb.org/t/p/w500${o.poster_path}`:"https://www.csaff.org/wp-content/uploads/csaff-no-poster.jpg",a=o.poster_path?`https://image.tmdb.org/t/p/w780${o.poster_path}`:"https://www.csaff.org/wp-content/uploads/csaff-no-poster.jpg",c=document.querySelector(".modal__poster"),l=document.querySelector(".modal__title"),f=document.querySelector(".modal__rating"),g=document.querySelector(".modal__rating--number-of-votes"),_=document.querySelector("dd[data-info='popularity']"),v=document.querySelector("dd[data-info='orgtitle']"),y=document.querySelector("dd[data-info='genres']"),w=document.querySelector(".modal__descripton");c.src=`${r}`,c.srcset=`${r} 1x, ${a} 2x`,l.textContent=`${o.title}`,f.textContent=`${Number.parseFloat(o.vote_average).toFixed(1)}`,g.innerText=`${o.vote_count}`,_.innerText=`${o.popularity.toFixed(1)}`,v.innerText=`${o.original_title.toUpperCase()}`,y.innerText=`${(0,n.convertGenres)(o.genres.map(e=>e.id))}`,w.innerText=`${o.overview}`,d.dataset.movieid=`${o.id}`,d.dataset.genres=`${o.genres.map(e=>e.id)}`,i.addEventListener("click",s),d.addEventListener("click",u),document.addEventListener("keydown",p)});
//# sourceMappingURL=index.b9618080.js.map
